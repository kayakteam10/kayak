#!/bin/bash

# Function to generate random number
rand() {
    echo $(($RANDOM % $1))
}

echo "Attempting Login..."
# Try Login
LOGIN_RESP=$(curl -s -X POST http://localhost:8080/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email": "testuser@example.com", "password": "password123"}')

# Extract token
TOKEN=$(echo $LOGIN_RESP | grep -o '"token":"[^"]*' | cut -d'"' -f4)

# If login failed (no token), try Register
if [ -z "$TOKEN" ]; then
    echo "Login failed/User not found. Registering..."
    # Generate random email suffix to ensure uniqueness if needed, or just retry testuser
    REG_RESP=$(curl -s -X POST http://localhost:8080/auth/register \
      -H "Content-Type: application/json" \
      -d '{"email": "testuser@example.com", "password": "password123", "first_name": "Test", "last_name": "User", "ssn": "999-00-1111"}')
    TOKEN=$(echo $REG_RESP | grep -o '"token":"[^"]*' | cut -d'"' -f4)
fi

echo "Token: $TOKEN"

if [ -z "$TOKEN" ]; then
    echo "Failed to get token. Exiting."
    exit 1
fi

# Test 1: WebP Image
echo "--------------------------------"
echo "Testing WebP Image Upload..."
curl -v -X PUT http://localhost:8080/auth/me \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "firstName": "Jane",
    "lastName": "Smith",
    "email": "testuser@example.com",
    "phone": "555-010-2132",
    "ssn": "999-00-1111",
    "zipCode": "95112",
    "profilePicture": "data:image/webp;base64,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","ssn":"123-45-0002","address":"123 Main Street","city":"New York","state":"NY","zipCode":"95112","creditCardLast4":"","creditCardType":""}'

echo ""
echo "--------------------------------"
echo "Test 2: Empty Profile Picture (User's case - Not Mandatory)"
# Generate a new phone number to avoid failure (random digits)
NEW_PHONE="555-$(rand 900)-$(rand 9000)"
echo "Using New Phone: $NEW_PHONE"

curl -v -X PUT http://localhost:8080/auth/me \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "firstName": "Jane",
    "lastName": "Smith",
    "email": "testuser@example.com",
    "phone": "'"$NEW_PHONE"'",
    "ssn": "999-00-1111",
    "zipCode": "95112",
    "profilePicture": ""
  }'
echo ""
